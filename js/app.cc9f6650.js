(function(t){function e(e){for(var i,a,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(i=!1)}i&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},s={app:0},r=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0e4b":function(t,e,n){},"0e68":function(t,e,n){},2053:function(t,e,n){"use strict";n("9abe")},"238f":function(t,e,n){"use strict";n("ac65")},2395:function(t,e,n){},"4a82":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=(n("499a"),n("b970")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:t.transitionName,mode:this.$router.back?"in-out":"out-in"}},[n("router-view",{staticClass:"view"})],1)],1)},a=[],o=(n("b0c0"),{data:function(){return{transitionName:"left"}},created:function(){var t=JSON.parse(localStorage.getItem("goods"))||{};this.$store.commit("setCounterMap",t)},watch:{$route:function(t,e){"classify"===t.name&&"search"===e.name&&(this.$router.back=!0),this.$router.back?this.transitionName="right":this.transitionName="left",this.$router.back=!1}}}),c=o,u=(n("7c55"),n("2877")),l=Object(u["a"])(c,r,a,!1,null,null,null),d=l.exports,p=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view"),n("TabBar")],1)},f=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-tabbar",{attrs:{route:"",fixed:""}},[n("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[t._v("首页")]),n("van-tabbar-item",{attrs:{icon:"apps-o",to:"/home/classify"}},[t._v("分类")]),n("van-tabbar-item",{attrs:{icon:"cart-o",to:"/home/shopping",badge:t.badge,id:"shop-car"}},[t._v("购物车")]),n("van-tabbar-item",{attrs:{icon:"user-circle-o",to:"/my"}},[t._v("我的")])],1)},m=[],b=n("5530"),v=(n("d3b7"),n("07ac"),n("2f62")),y={computed:Object(b["a"])(Object(b["a"])({},Object(v["d"])({counterMap:function(t){return t.counterMap}})),{},{badge:function(){var t=Object.values(this.counterMap).reduce((function(t,e){return t+e}),0);return t>99?"99+":t}})},L=y,j=Object(u["a"])(L,g,m,!1,null,null,null),k=j.exports,w={components:{TabBar:k}},O=w,x=Object(u["a"])(O,h,f,!1,null,null,null),_=x.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shopping"},[n("div",{staticClass:"top-nav"},[n("van-nav-bar",{attrs:{title:"购物车","right-text":"删除"},on:{"click-right":t.del}})],1),n("div",{staticClass:"card-list"},[[n("van-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:"{}"!==JSON.stringify(t.counterMap),expression:"JSON.stringify(counterMap) !== '{}'"}],ref:"checkboxGroup",model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.list,(function(e){return n("div",{key:e.id,staticClass:"card-box"},[n("van-checkbox",{staticClass:"check",attrs:{name:e.id}}),n("GoodsCard",t._b({attrs:{num:t.counterMap[e.id],nofly:!0}},"GoodsCard",e,!1))],1)})),0)],n("div",{directives:[{name:"show",rawName:"v-show",value:"{}"===JSON.stringify(t.counterMap),expression:"JSON.stringify(counterMap) === '{}'"}],staticClass:"empty-car"},[t._v(" 购物车空空如也,快去选购吧! ")])],2),n("van-submit-bar",{attrs:{price:t.allMoney,"button-text":"去结算("+t.totalNum+")"},on:{submit:t.onSubmit}},[n("van-checkbox",{on:{click:t.checkAll},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("全选")])],1)],1)},R=[],S=n("1da1"),M=(n("96cf"),n("4de4"),n("caad"),n("2532"),n("159b"),n("b64b"),n("a15b"),n("d399")),G=n("2241"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-wrapper van-hairline--bottom"},[n("div",{staticClass:"card-img"},[n("img",{ref:"img",attrs:{src:t.images[0]}})]),n("div",{staticClass:"card-content"},[n("div",{staticClass:"title overflow-hidden"},[t._v(t._s(t.title))]),n("div",{staticClass:"desc overflow-hidden"},[t._v(t._s(t.desc))]),n("div",{staticClass:"tags"},t._l(t.tags,(function(e){return n("div",{key:e},[t._v(t._s(e))])})),0),n("div",{staticClass:"prices"},[t._v("￥"+t._s(t.price))]),n("div",{staticClass:"counter"},[t.num?n("div",{on:{touchend:function(e){return t.counter(t.id,-1)}}},[n("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/rec.png"}})]):t._e(),t.num?n("div",{staticClass:"num"},[t._v(t._s(t.num))]):t._e(),n("div",{on:{touchend:function(e){return t.counter(t.id,1)}}},[n("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/add.png"}})])])])])},T=[],U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.exist?n("div",{staticClass:"item",style:{width:t.width+"px",height:t.height+"px",opacity:t.opacity,transform:"translate("+t.moveX+"px,"+t.moveY+"px) scale("+t.sX+","+t.sY+")"}},[n("img",{attrs:{src:t.src}})]):t._e()},E=[],N={},B=N,I=(n("6b9f"),Object(u["a"])(B,U,E,!1,null,"7e60eae2",null)),J=I.exports,X=i["a"].extend(J),Y=function(t){var e=t.startX,n=t.startY,i=t.endX,s=t.endY,r=t.src,a=t.width,o=t.height,c=new X({el:document.createElement("div"),data:function(){return{moveX:e,moveY:n,sX:1,sY:1,opacity:1,exist:!0,src:r,width:a,height:o}}});document.body.appendChild(c.$el),setTimeout((function(){c.moveX=i,c.moveY=s,c.sX=.1,c.sY=.1,c.opacity=0}),0),setTimeout((function(){c.exist=!1}),1100)},z={props:["images","tags","title","price","desc","id","num","nofly"],methods:Object(b["a"])(Object(b["a"])({},Object(v["c"])(["setStorageChange"])),{},{counter:function(t,e){if(this.setStorageChange({id:t,value:e}),-1!==e&&!this.nofly){var n=this.$refs.img.getBoundingClientRect(),i=n.top,s=n.left,r=this.$refs.img,a=r.offsetWidth,o=r.offsetHeight,c=document.getElementById("shop-car"),u=c.getBoundingClientRect(),l=u.left,d=u.top,p=c.offsetWidth,h=c.offsetHeight,f=l+p/2,g=d+h/2;Y({startX:s,startY:i,endX:f,endY:g,src:this.$refs.img.src,width:a,height:o})}}})},P=z,H=(n("5c66"),Object(u["a"])(P,$,T,!1,null,"08695f4c",null)),A=H.exports,D={components:{GoodsCard:A},data:function(){return{result:[],list:[],checked:!1}},created:function(){this.getAllData()},computed:Object(b["a"])(Object(b["a"])({},Object(v["d"])({counterMap:function(t){return t.counterMap}})),{},{allMoney:function(){var t=this,e=this.list.filter((function(e){return t.result.includes(e.id)}));return e.reduce((function(e,n){var i=t.counterMap[n.id]||0;return Math.round(i*n.price*100)+e}),0)},totalNum:function(){var t=this,e=this.list.filter((function(e){return t.result.includes(e.id)})),n=e.reduce((function(e,n){return e+(t.counterMap[n.id]||0)}),0);return n}}),watch:{result:function(){this.result.length===this.list.length?this.checked=!0:this.checked=!1}},methods:Object(b["a"])(Object(b["a"])({},Object(v["c"])(["setStorageChange"])),{},{checkAll:function(){this.checked?this.$refs.checkboxGroup.toggleAll(!0):this.$refs.checkboxGroup.toggleAll(!1)},onSubmit:function(){},del:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.result.length){e.next=3;break}return Object(M["a"])("你没有选中任何商品!"),e.abrupt("return");case 3:return e.prev=3,e.next=6,G["a"].confirm({message:"确认删除选中商品吗？"});case 6:t.result.forEach((function(e){t.counterMap[e]&&t.setStorageChange({id:e,value:-1/0}),t.list=t.list.filter((function(e){return!t.result.includes(e.id)}))})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),Object(M["a"])("用户点击了取消!");case 12:case"end":return e.stop()}}),e,null,[[3,9]])})))()},getAllData:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object.keys(t.counterMap),e.next=3,t.$api.getGoodsByIds(n.join());case 3:i=e.sent,t.list=i.list;case 5:case"end":return e.stop()}}),e)})))()}})},W=D,V=(n("a18d"),Object(u["a"])(W,C,R,!1,null,"2833a2f8",null)),q=V.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"classify-wrapper"},[n("router-link",{staticClass:"search-btn",attrs:{tag:"div",to:"/search"}},[n("van-icon",{attrs:{name:"search"}}),n("div",[t._v("苹果特价一元两斤")])],1),n("OneTab"),t.isLoading?n("van-loading",{attrs:{type:"spinner",size:"2rem",vertical:""}}):[n("SideBar"),t.show?[n("GoodList")]:t.show?t._e():n("van-loading",{attrs:{type:"spinner",size:"2rem",vertical:""}}),t._v(" />")]],2)},K=[],Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"oneTab",staticClass:"onetab-wrapper"},t._l(t.menuList,(function(e,i){return n("div",{key:e.title,staticClass:"tab-item",class:{active:t.index===i},on:{touchend:function(e){return t.scrollTo(i,e)},touchstart:function(e){t.move=!1},touchmove:function(e){t.move=!0}}},[n("div",{staticClass:"img-wrapper"},[n("img",{attrs:{src:e.imgURL}})]),n("div",{staticClass:"tab-title"},[t._v(t._s(e.title))])])})),0)},Z=[],tt={moveTo:function(t,e,n,i){var s=0,r=5;e<0&&(r*=-1);var a=setInterval((function(){s+=r,n[i]=t+s,Math.abs(s)>Math.abs(e)&&(n[i]=t+e,clearInterval(a))}),2)}},et={data:function(){return{move:!1,index:0,menuList:[{title:"时令水果",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{title:"酒水冲调",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{title:"安心乳品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{title:"休闲零食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{title:"肉蛋食材",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{title:"新鲜蔬菜",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{title:"熟食餐饮",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{title:"海鲜水产",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{title:"粮油调味",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{title:"某手美食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{title:"纸杯清洁",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{title:"个人护理",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{title:"美妆护肤",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{title:"家居收纳",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{title:"家用电器",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{title:"3C数码",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{title:"母婴用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{title:"鲜花绿植",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{title:"宠物用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{title:"图书玩具",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{title:"手表配饰",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}]}},created:function(){this.$store.dispatch("getSideList",this.menuList[0].title)},methods:{scrollTo:function(t,e){if(!this.move){this.index=t;var n=this.$refs.oneTab,i=e.target.offsetWidth,s=e.target.getBoundingClientRect().left,r=n.offsetWidth;tt.moveTo(n.scrollLeft,i/2+s-r/2,n,"scrollLeft"),this.$store.dispatch("getSideList",this.menuList[t].title)}}}},nt=et,it=(n("d4a4"),Object(u["a"])(nt,Q,Z,!1,null,"16b21c74",null)),st=it.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"side",staticClass:"sidebar-wrapper"},t._l(t.sideList,(function(e,i){return n("div",{key:e,class:{active:t.index==i},on:{touchend:function(e){return t.scrollTo(i,e)},touchstart:function(e){t.move=!1},touchmove:function(e){t.move=!0}}},[t._v(" "+t._s(0===i?"全部":e)+" ")])})),0)},at=[],ot={data:function(){return{index:0,move:!1}},created:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.setShow(!0);case 1:case"end":return e.stop()}}),e)})))()},computed:Object(b["a"])({},Object(v["d"])({sideList:function(t){return t.sideList}})),methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(v["b"])(["getGoodList"])),Object(v["c"])(["resetGoodList","setShow"])),{},{scrollTo:function(t,e){var n=this;return Object(S["a"])(regeneratorRuntime.mark((function i(){var s,r,a,o,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!n.move){i.next=2;break}return i.abrupt("return");case 2:return n.index=t,s=n.$refs.side,r=e.target.getBoundingClientRect().top,a=e.target.offsetHeight,o=s.getBoundingClientRect().top,c=s.offsetHeight,tt.moveTo(s.scrollTop,r+a/2-o-c/2,s,"scrollTop"),n.resetGoodList(),n.setShow(!1),i.next=13,n.getGoodList({page:1,sort:"all",type:n.sideList[t]});case 13:n.setShow(!0);case 14:case"end":return i.stop()}}),i)})))()}})},ct=ot,ut=(n("bc59"),Object(u["a"])(ct,rt,at,!1,null,"6da5be44",null)),lt=ut.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goodlist-wrapper"},[n("div",{staticClass:"list-header van-hairline--top-bottom"},[n("div",{class:{active:"all"===t.type},on:{click:function(e){return t.changeType("all")}}},[t._v(" 综合 ")]),n("div",{class:{active:"sale"===t.type},on:{click:function(e){return t.changeType("sale")}}},[t._v(" 销量 ")]),n("div",{staticClass:"price",class:{"price-up":"price-up"===t.type,"price-down":"price-down"===t.type},on:{click:function(e){return t.changeType("")}}},[t._v(" 价格 ")])]),n("div",{staticClass:"list-content"},[n("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.goodList,(function(e){return n("GoodsCard",t._b({key:e.id,attrs:{num:t.counterMap[e.id]}},"GoodsCard",e,!1))})),1)],1)],1)])},pt=[],ht=n("ec26"),ft={components:{GoodsCard:A},data:function(){return{type:"all",page:1,refreshing:!1,loading:!1,finished:!1,uuid:ht["a"]}},computed:Object(b["a"])({},Object(v["d"])({goodList:function(t){return t.goodList},counterMap:function(t){return t.counterMap}})),methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(v["c"])(["resetGoodList","setCounterMap"])),Object(v["b"])(["getGoodList"])),{},{changeType:function(t){"all"===t?this.type="all":"sale"===t?this.type="sale":"price-up"===this.type?this.type="price-down":this.type="price-up",this.onRefresh()},onRefresh:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.refreshing=!0,t.finished=!1,t.loading=!1,t.page=1,t.resetGoodList(),e.next=7,t.getGoodList({page:1,sort:t.type});case 7:t.refreshing=!1;case 8:case"end":return e.stop()}}),e)})))()},onLoad:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page+=1,e.next=3,t.getGoodList({page:t.page,sort:t.type});case 3:n=e.sent,t.loadig=!1,n?t.loading=!1:t.finished=!0;case 6:case"end":return e.stop()}}),e)})))()}})},gt=ft,mt=(n("5e1e"),Object(u["a"])(gt,dt,pt,!1,null,"1e024705",null)),bt=mt.exports,vt={components:{OneTab:st,SideBar:lt,GoodList:bt},methods:Object(b["a"])(Object(b["a"])({},Object(v["c"])(["resetGoodList"])),Object(v["b"])(["getGoodList"])),computed:Object(b["a"])({},Object(v["d"])({isLoading:function(t){return t.isLoading},show:function(t){return t.show},sideList:function(t){return t.sideList}})),watch:{isLoading:function(){this.isLoading||(this.resetGoodList(),this.getGoodList({type:this.sideList[0],page:1,sort:"all"}))}}},yt=vt,Lt=(n("2053"),Object(u["a"])(yt,F,K,!1,null,"f4951f62",null)),jt=Lt.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-wrapper"},[n("div",{staticClass:"search-head"},[n("van-icon",{staticClass:"arr-left",attrs:{name:"arrow-left"},on:{click:function(e){return t.$router.goBack()}}}),n("van-search",{staticClass:"search-content",attrs:{"show-action":"",placeholder:t.place},on:{search:t.onSearch,input:t.input,focus:t.focus},scopedSlots:t._u([t.showLikeList?{key:"action",fn:function(){return[n("div",{on:{touchend:function(e){return t.onSearch(t.value)}}},[t._v("搜索")])]},proxy:!0}:{key:"action",fn:function(){return[n("van-icon",{attrs:{name:"cart-o",id:"shop-car",badge:t.badge}})]},proxy:!0}],null,!0),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t.likeList.length>0&&t.showLikeList?n("div",{staticClass:"like-search"},[n("van-list",t._l(t.likeList,(function(e){return n("van-cell",{key:e,on:{click:function(n){return t.onSearch(e)}}},[n("span",{domProps:{innerHTML:t._s(t.fontColor(e))}})])})),1)],1):t._e(),t.showLikeList?t._e():n("div",{staticClass:"good-list"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.goodList,(function(e){return n("GoodsCard",t._b({key:e.id,attrs:{num:t.counterMap[e.id]}},"GoodsCard",e,!1))})),1)],1),t.likeList.length<=0&&t.showLikeList?n("div",{staticClass:"history"},[n("MyHistory",{attrs:{searchList:t.searchList},on:{search:t.onSearch}})],1):t._e()])},wt=[],Ot=n("2909"),xt=(n("ac1f"),n("841c"),n("99af"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("5319"),n("9767"),n("7db0"),n("4e82"),n("e9c4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"history-wrapper"},[n("h4",[t._v("历史记录:")]),t._l(t.searchList,(function(e){return n("div",{key:e.time,staticClass:"his-item",on:{click:function(n){return t.$emit("search",e.value)}}},[t._v(" "+t._s(e.value)+" ")])}))],2)}),_t=[],Ct={props:["searchList"]},Rt=Ct,St=(n("bfa4"),Object(u["a"])(Rt,xt,_t,!1,null,"24c2286f",null)),Mt=St.exports,Gt={components:{GoodsCard:A,MyHistory:Mt},data:function(){return{value:this.place,place:"酒",likeList:[],timer:null,loading:!1,finished:!1,page:1,size:6,goodList:[],showLikeList:!0,total:0,searchList:[]}},created:function(){this.searchList=JSON.parse(localStorage.getItem("searchList"))||[]},computed:Object(b["a"])(Object(b["a"])({},Object(v["d"])({counterMap:function(t){return t.counterMap}})),{},{badge:function(){var t=Object.values(this.counterMap).reduce((function(t,e){return t+e}),0);return t>99?"99+":t}}),methods:{onLoad:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showLikeList=!1,e.next=3,t.$api.search(t.value,t.page,t.size);case 3:n=e.sent,t.goodList=[].concat(Object(Ot["a"])(t.goodList),Object(Ot["a"])(n.list)),t.total=n.total,t.goodList.length>=t.total?t.finished=!0:(t.page+=1,t.loading=!1);case 7:case"end":return e.stop()}}),e)})))()},fontColor:function(t){var e=new RegExp(this.value,"g");return t.replace(e,this.value.fontcolor("red"))},onSearch:function(t){var e=this;this.value=t||this.place;var n=this.searchList.find((function(t){return t.value===e.value}));n?(n.time=(new Date).getTime(),this.searchList.sort((function(t,e){return e.time-t.time}))):(this.searchList.unshift({value:this.value,time:(new Date).getTime()}),this.searchList.length>10&&this.searchList.pop()),localStorage.setItem("searchList",JSON.stringify(this.searchList)),this.likeList=[],this.page=1,this.finished=!1,this.onLoad()},input:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.value){e.next=3;break}return t.likeList=[],e.abrupt("return");case 3:t.timer?(clearTimeout(t.timer),t.timer=null):t.timer=setTimeout(Object(S["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.likeSearch(t.value);case 2:n=e.sent,t.likeList=n.result,clearTimeout(t.timer),t.timer=null;case 6:case"end":return e.stop()}}),e)}))),300);case 4:case"end":return e.stop()}}),e)})))()},focus:function(){this.showLikeList=!0}}},$t=Gt,Tt=(n("238f"),Object(u["a"])($t,kt,wt,!1,null,"124fb646",null)),Ut=Tt.exports;p["a"].prototype.back=!1,p["a"].prototype.goBack=function(){this.back=!0,this.go(-1)},i["a"].use(p["a"]);var Et=[{path:"/home",component:_,children:[{path:"classify",component:jt,name:"classify"},{path:"shopping",component:q,name:"shopping"}]},{path:"/search",component:Ut,name:"search"},{path:"*",redirect:"/home/classify"}],Nt=new p["a"]({mode:"hash",base:"",routes:Et}),Bt=Nt,It=n("bc3a"),Jt=n.n(It),Xt=Jt.a.create({baseURL:"https://mallapi.duyiedu.com/goods/",params:{appkey:"wutao_1644812143938"}});Xt.interceptors.response.use((function(t){return t.data}));var Yt={getSideList:function(t){return Xt.get("/getsidebar",{params:{type:t}})},getGoodList:function(t,e,n,i){return Xt.get("/getGoodsList",{params:{type:t,page:e,size:n,sort:i}})},likeSearch:function(t){return Xt.get("/likeSearch",{params:{likeValue:t}})},search:function(t,e,n){return Xt.get("/search",{params:{type:t,page:e,size:n}})},getGoodsByIds:function(t){return Xt.get("/getGoodsByIds",{params:{value:t}})}};i["a"].use(v["a"]);var zt=new v["a"].Store({state:{sideList:[],isLoading:!1,size:7,goodList:[],type:null,show:!1,counterMap:{}},mutations:{setSideList:function(t,e){t.sideList=e},setIsLoading:function(t,e){t.isLoading=e},setGoodList:function(t,e){t.goodList=[].concat(Object(Ot["a"])(t.goodList),Object(Ot["a"])(e))},resetGoodList:function(t){t.goodList=[]},setGoodsType:function(t,e){t.type=e},setShow:function(t,e){t.show=e},setCounterMap:function(t,e){t.counterMap=e},setStorageChange:function(t,e){var n=e.id,s=e.value;t.counterMap[n]?-1===s&&1===t.counterMap[n]||s===-1/0?i["a"].delete(t.counterMap,n):i["a"].set(t.counterMap,n,t.counterMap[n]+s):i["a"].set(t.counterMap,n,1),localStorage.setItem("goods",JSON.stringify(t.counterMap))}},actions:{getSideList:function(t,e){return Object(S["a"])(regeneratorRuntime.mark((function n(){var i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.commit,i("setIsLoading",!0),n.next=4,Yt.getSideList(e);case 4:s=n.sent,i("setSideList",s),i("setIsLoading",!1);case 7:case"end":return n.stop()}}),n)})))()},getGoodList:function(t,e){return Object(S["a"])(regeneratorRuntime.mark((function n(){var i,s,r,a,o,c,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.state,s=t.commit,r=e.page,a=e.sort,o=e.type||i.type,n.next=5,Yt.getGoodList(o,r,i.size,a);case 5:if(c=n.sent,u=c.list,l=c.total,s("setGoodList",u),s("setGoodsType",o),!(l>i.goodList.length)){n.next=12;break}return n.abrupt("return",!0);case 12:return n.abrupt("return",!1);case 13:case"end":return n.stop()}}),n)})))()}},modules:{}});n("157a");i["a"].prototype.$api=Yt,i["a"].use(s["a"]),i["a"].config.productionTip=!1,new i["a"]({router:Bt,store:zt,render:function(t){return t(d)}}).$mount("#app")},"5926d":function(t,e,n){},"5c66":function(t,e,n){"use strict";n("5926d")},"5e1e":function(t,e,n){"use strict";n("e15e")},"6b9f":function(t,e,n){"use strict";n("0e68")},"7c55":function(t,e,n){"use strict";n("2395")},"9abe":function(t,e,n){},a18d:function(t,e,n){"use strict";n("0e4b")},ac65:function(t,e,n){},bc59:function(t,e,n){"use strict";n("e1b3")},bfa4:function(t,e,n){"use strict";n("4a82")},c9a2:function(t,e,n){},d4a4:function(t,e,n){"use strict";n("c9a2")},e15e:function(t,e,n){},e1b3:function(t,e,n){}});
//# sourceMappingURL=app.cc9f6650.js.map